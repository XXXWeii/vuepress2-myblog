import{_ as y}from"./app-f6f89df0.js";import v from"./MyIcon-e5154826.js";import{g as f,r as h,o as g,A as E,s as p,C as b,Z as P,a6 as x,a4 as C,a0 as i,a7 as I,a2 as w,_ as A}from"./framework-6065462a.js";const N="//file.mo7.cc/music/",u=a=>{const s=`${N}${a.name}-${a.artist}`;return{name:a.name,artist:a.artist,url:`${s}/audio.mp3`,cover:`${s}/cover.webp`,lrc:`${s}/lyrics.lrc`}},l=[];l.push(u({name:"光年之外",artist:"G.E.M.邓紫棋"}));l.push(u({name:"泡沫",artist:"G.E.M.邓紫棋"}));l.push(u({name:"喜欢你",artist:"G.E.M.邓紫棋"}));const k={class:"MyMusic"},B=i("div",{id:"GlobalAPlayer"},null,-1),G=f({__name:"NavMusic",setup(a){let s;const o=h(!1),M=()=>{o.value=!o.value},r=()=>{o.value=!1},d=()=>{const n=document.querySelector(".navbar-end");if(!n)return;if(!document.querySelector("#MyMusic_Menu")){const e=document.createElement("div");e.id="MyMusic_Menu",e.classList.add("nav-item"),e.innerHTML='<div id="MyMusic_icon" class="btnImg"></div>',n.appendChild(e)}const t=document.querySelector("#MyMusic_Menu"),c=document.querySelector(".MyMusic");t.onclick=e=>{M(),e.stopPropagation()},c.onclick=e=>{e.stopPropagation()}},m=n=>{if(!n)return;const t=document.getElementById("GlobalAPlayer");!t||t.classList.contains("aplayer")||(s=new n({container:document.getElementById("GlobalAPlayer"),audio:l,lrcType:3,listFolded:!1,listMaxHeight:"324px",mini:!1,fixed:!1,volume:1,storageName:"GlobalAPlayer"}),s.on("play",()=>{var e;(e=document.getElementById("MyMusic_icon"))==null||e.setAttribute("data-spin","")}),s.on("pause",()=>{var e;(e=document.getElementById("MyMusic_icon"))==null||e.removeAttribute("data-spin")}))},_=()=>{window.location.pathname.includes("/music/")&&s&&s.pause()};return g(()=>{const n=E();y(()=>import("./APlayer.min-28b94532.js").then(t=>t.A),["assets/APlayer.min-28b94532.js","assets/framework-6065462a.js"]).then(({default:t})=>{p(()=>{d(),m(t),_(),window.document.body.onclick=()=>{r()}}),n.beforeEach(()=>{p(()=>{setTimeout(()=>{d(),m(t)},50),setTimeout(()=>{_()},2e3)})})})}),(n,t)=>{const c=b("ClientOnly");return P(),x(c,null,{default:C(()=>[i("div",k,[i("div",{class:I(["MyMusic_Play",{hide:!o.value}])},[i("div",{class:"close",onClick:r},[w(v,{name:"guanbi"})]),B],2)])]),_:1})}}});const q=A(G,[["__file","NavMusic.vue"]]);export{q as default};

{"version":3,"file":"SiteInfo.js","sources":["../../../src/client/components/SiteInfo.ts"],"sourcesContent":["import { withBase } from \"@vuepress/client\";\nimport {\n  type VNode,\n  computed,\n  defineComponent,\n  h,\n  resolveComponent,\n} from \"vue\";\nimport {\n  BitbucketIcon,\n  GitHubIcon,\n  GiteeIcon,\n  GitlabIcon,\n  SourceIcon,\n  resolveRepoType,\n  useLocaleConfig,\n} from \"vuepress-shared/client\";\n\nimport { type SiteInfoLocaleConfig } from \"../../shared/index.js\";\n\nimport \"balloon-css/balloon.css\";\nimport \"../styles/site-info.scss\";\n\ndeclare const SITE_INFO_LOCALES: SiteInfoLocaleConfig;\n\nexport default defineComponent({\n  name: \"DemoProject\",\n\n  components: {\n    BitbucketIcon,\n    GiteeIcon,\n    GitHubIcon,\n    GitlabIcon,\n    SourceIcon,\n  },\n\n  props: {\n    /**\n     * Name of site\n     *\n     * 站点名称\n     */\n    name: {\n      type: String,\n      required: true,\n    },\n\n    /**\n     * Site description\n     *\n     * 站点描述\n     */\n    desc: {\n      type: String,\n      default: \"\",\n    },\n\n    /**\n     * Site logo\n     *\n     * 站点图标\n     */\n    logo: {\n      type: String,\n      default: \"\",\n    },\n\n    /**\n     * Site link\n     *\n     * 站点链接\n     */\n    url: {\n      type: String,\n      required: true,\n    },\n\n    /**\n     * Site preview image\n     *\n     * 站点预览\n     */\n    preview: {\n      type: String,\n      required: true,\n    },\n\n    /**\n     * Site repo\n     *\n     * 站点仓库\n     */\n    repo: {\n      type: String,\n      default: \"\",\n    },\n  },\n\n  setup(props) {\n    const locale = useLocaleConfig(SITE_INFO_LOCALES);\n    const repoType = computed(() =>\n      props.repo ? resolveRepoType(props.repo) : null\n    );\n\n    return (): VNode =>\n      h(\n        \"div\",\n        {\n          class: \"site-info\",\n          onClick: () => {\n            window.open(props.url, \"_blank\");\n          },\n        },\n        [\n          h(\"div\", {\n            class: \"site-info-preview\",\n            style: {\n              background: `url(${withBase(\n                props.preview\n              )}) center/cover no-repeat`,\n            },\n          }),\n          h(\"div\", { class: \"site-info-detail\" }, [\n            props.logo\n              ? h(\"img\", {\n                  class: \"site-info-logo\",\n                  src: props.logo,\n                  loading: \"lazy\",\n                  \"no-view\": \"\",\n                })\n              : null,\n            h(\"div\", { class: \"site-info-name\" }, props.name),\n            h(\"div\", { class: \"site-info-desc\" }, props.desc),\n          ]),\n          props.repo\n            ? h(\n                \"div\",\n                { class: \"site-info-source-wrapper\" },\n                h(\n                  \"a\",\n                  {\n                    class: \"site-info-source\",\n                    href: props.repo,\n                    // hint text\n                    \"aria-label\": locale.value.source,\n                    \"data-balloon-pos\": \"left\",\n                    title: locale.value.source,\n                    target: \"_blank\",\n                  },\n                  h(resolveComponent(`${repoType.value!}Icon`))\n                )\n              )\n            : null,\n        ]\n      );\n  },\n});\n"],"names":["SiteInfo","defineComponent","BitbucketIcon","GiteeIcon","GitHubIcon","GitlabIcon","SourceIcon","props","locale","useLocaleConfig","repoType","computed","resolveRepoType","h","withBase","resolveComponent"],"mappings":"8VAyBA,IAAAA,EAAeC,EAAgB,CAC7B,KAAM,cAEN,WAAY,CACV,cAAAC,EACA,UAAAC,EACA,WAAAC,EACA,WAAAC,EACA,WAAAC,CACF,EAEA,MAAO,CAML,KAAM,CACJ,KAAM,OACN,SAAU,EACZ,EAOA,KAAM,CACJ,KAAM,OACN,QAAS,EACX,EAOA,KAAM,CACJ,KAAM,OACN,QAAS,EACX,EAOA,IAAK,CACH,KAAM,OACN,SAAU,EACZ,EAOA,QAAS,CACP,KAAM,OACN,SAAU,EACZ,EAOA,KAAM,CACJ,KAAM,OACN,QAAS,EACX,CACF,EAEA,MAAMC,EAAO,CACX,MAAMC,EAASC,EAAgB,iBAAiB,EAC1CC,EAAWC,EAAS,IACxBJ,EAAM,KAAOK,EAAgBL,EAAM,IAAI,EAAI,IAC7C,EAEA,MAAO,IACLM,EACE,MACA,CACE,MAAO,YACP,QAAS,IAAM,CACb,OAAO,KAAKN,EAAM,IAAK,QAAQ,CACjC,CACF,EACA,CACEM,EAAE,MAAO,CACP,MAAO,oBACP,MAAO,CACL,WAAY,OAAOC,EACjBP,EAAM,OACR,2BACF,CACF,CAAC,EACDM,EAAE,MAAO,CAAE,MAAO,kBAAmB,EAAG,CACtCN,EAAM,KACFM,EAAE,MAAO,CACP,MAAO,iBACP,IAAKN,EAAM,KACX,QAAS,OACT,UAAW,EACb,CAAC,EACD,KACJM,EAAE,MAAO,CAAE,MAAO,gBAAiB,EAAGN,EAAM,IAAI,EAChDM,EAAE,MAAO,CAAE,MAAO,gBAAiB,EAAGN,EAAM,IAAI,CAClD,CAAC,EACDA,EAAM,KACFM,EACE,MACA,CAAE,MAAO,0BAA2B,EACpCA,EACE,IACA,CACE,MAAO,mBACP,KAAMN,EAAM,KAEZ,aAAcC,EAAO,MAAM,OAC3B,mBAAoB,OACpB,MAAOA,EAAO,MAAM,OACpB,OAAQ,QACV,EACAK,EAAEE,EAAiB,GAAGL,EAAS,WAAY,CAAC,CAC9C,CACF,EACA,IACN,CACF,CACJ,CACF,CAAC"}